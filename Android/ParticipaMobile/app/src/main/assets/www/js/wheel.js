var curr_selected_cat = 0;
var wheel={el:null,controller:null,angle:0,startAngle:0,slices:Math.PI/6,originX:160,originY:160,values:{},handleEvent:function(a){if(a.type=="touchstart")this.rotateStart(a);
    else if(a.type=="touchmove")this.rotateMove(a);else a.type=="touchend"&&this.rotateStop(a)},init:function(wheel_cats, no_slices){
    wheel.values = wheel_cats; 
    wheel.slices = (2 * Math.PI)/no_slices;
    wheel.noofslices = no_slices;
    this.el=document.getElementById("zodiac");this.controller=document.getElementById("display1");this.el.style.webkitTransitionDuration="0";this.controller.addEventListener("touchstart",this,false)},rotateStart:function(a){a.preventDefault();this.el.style.webkitTransitionDuration="0";this.startAngle=Math.atan2(a.touches[0].pageY-this.originY,a.touches[0].pageX-this.originX)-this.angle;this.controller.addEventListener("touchmove",
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  this,false);this.controller.addEventListener("touchend",this,false)},rotateMove:function(a){this.angle=Math.atan2(a.touches[0].pageY-this.originY,a.touches[0].pageX-this.originX)-this.startAngle;this.el.style.webkitTransform="rotateZ("+this.angle+"rad)";document.getElementById("text").innerHTML=this.getSelectedValue()},rotateStop:function(){this.controller.removeEventListener("touchmove",this,false);this.controller.removeEventListener("touchend",this,false);if(this.angle%this.slices){this.angle=
        Math.round(this.angle/this.slices)*this.slices;this.el.style.webkitTransitionDuration="150ms";this.el.style.webkitTransform="rotateZ("+this.angle+"rad)"}document.getElementById("text").innerHTML=this.getSelectedValue()},getSelectedValue:function(){var a=Math.floor(Math.abs(this.angle)/this.slices/this.noofslices);if(this.angle<0)a=-a;a=Math.round(this.angle/this.slices)-a*this.noofslices;if(a<0)a=this.noofslices+a;curr_selected_cat = a; return[this.values[a]];}};

//var curr_selected_cat = 0;
//var wheel={el:null,controller:null,angle:0,startAngle:0,slices:Math.PI/6,originX:160,originY:160,values:{},handleEvent:function(a){if(a.type=="touchstart")this.rotateStart(a);
//    else if(a.type=="touchmove")this.rotateMove(a);else a.type=="touchend"&&this.rotateStop(a)},init:function(wheel_cats, no_slices){
//    wheel.values = wheel_cats; 
//    wheel.slices = (2 * Math.PI)/no_slices;
//    wheel.noofslices = no_slices;
//    this.el=document.getElementById("zodiac");this.controller=document.getElementById("display1");this.el.style.webkitTransitionDuration="0";this.controller.addEventListener("touchstart",this,false)},rotateStart:function(a){a.preventDefault();this.el.style.webkitTransitionDuration="0";this.startAngle=Math.atan2(a.touches[0].pageY-this.originY,a.touches[0].pageX-this.originX)-this.angle;this.controller.addEventListener("touchmove",
//                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  this,false);this.controller.addEventListener("touchend",this,false)},rotateMove:function(a){this.angle=Math.atan2(a.touches[0].pageY-this.originY,a.touches[0].pageX-this.originX)-this.startAngle;this.el.style.webkitTransform="rotate3d(0,0,1,"+this.angle+"rad)";document.getElementById("text").innerHTML=this.getSelectedValue()},rotateStop:function(){this.controller.removeEventListener("touchmove",this,false);this.controller.removeEventListener("touchend",this,false);if(this.angle%this.slices){this.angle=
//        Math.round(this.angle/this.slices)*this.slices;this.el.style.webkitTransitionDuration="150ms";this.el.style.webkitTransform="rotate3d(0,0,1,"+this.angle+"rad)"}document.getElementById("text").innerHTML=this.getSelectedValue()},getSelectedValue:function(){var a=Math.floor(Math.abs(this.angle)/this.slices/this.noofslices);if(this.angle<0)a=-a;a=Math.round(this.angle/this.slices)-a*this.noofslices;if(a<0)a=this.noofslices+a;curr_selected_cat = a; return[this.values[a]];}};